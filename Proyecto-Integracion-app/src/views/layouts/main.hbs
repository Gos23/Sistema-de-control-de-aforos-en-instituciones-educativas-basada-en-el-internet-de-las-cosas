<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>GABANNI</title>
        {{!-- BOOSTRAT4 --}}
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

        {{!-- STYLES --}}
        <link rel="stylesheet" href="/css/styles.css">

        {{!-- BUSCAR EN TABLA --}}
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>


    </head>
    <body>

        {{>navigation}}
        {{>message}}
        {{{ body }}}
        
        {{!-- SCRIPTS --}}
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


        <script>
            //Busqueda en tablas 
            $(document).ready(function(){
            $("#buscador").on("keyup", function() {
                var value = $(this).val().toLowerCase();
                $("#myTable tr").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
            });

            // -- SELECT -- //
            // Funcion para cargar los select

            function cargarUnidad() {
                var array = ["Azcapotzalco", "Xochimilco", "Iztapalapa", "Cuajimalpa", "Lerma"];
                array.sort();
                addOptions("unidad", array);
            }

            function addOptions(domElement, array) {
                var selector = document.getElementsByName(domElement)[0];
                for (unidad in array) {
                    var opcion = document.createElement("option");
                    opcion.text = array[unidad];
                    opcion.value = array[unidad];
                    selector.add(opcion);
                }
            }

            cargarUnidad();

            function cargarDivision() {
                var listaDivision = {
                    Azcapotzalco: ["Ciencias Básicas e Ingeniería", "Ciencias Sociales y Humanidades", "Ciencias y Artes para el Diseño"],
                    Xochimilco: ["Ciencias y Artes para el Diseño", "Ciencias Biológicas y de la Salud", "Ciencias Sociales y Humanidades"],
                    Iztapalapa: ["Ciencias Básicas e Ingeniería", "Ciencias Biológicas y de la Salud", "Ciencias Sociales y Humanidades"],
                    Cuajimalpa: ["Ciencias de la Comunicación y Diseño", "Ciencias Naturales e Ingeniería", "Ciencias Sociales y Humanidades"],
                    Lerma: ["Ciencias Básicas e Ingeniería", "Ciencias Biológicas y de la Salud", "Ciencias Sociales y Humanidades"]
                }
                var unidad = document.getElementById('unidad');
                var division = document.getElementById('division');
                var unidadSeleccionada = unidad.value;
                division.innerHTML = '<option value="">Seleccione una division...</option>'

                if (unidadSeleccionada !== '') {
                    unidadSeleccionada = listaDivision[unidadSeleccionada]

                    if (!!unidadSeleccionada.length) unidadSeleccionada.sort();
                    unidadSeleccionada.forEach(function (div) {
                        let opcion = document.createElement('option')
                        opcion.value = div
                        opcion.text = div
                        division.add(opcion)
                    });
                }
            }

            function cargarPlanEstudio() {

                var listaPlanEstudio = {

                    CAD: ["Arquitectura", "Diseño de la Comunicación Gráfica", "Diseño Industrial", "Planeación Territorial"],
                    CBI: ["Ciencias Atmosféricas", 
                          "Computació", "Física", 
                          "Ingeniería Ambiental", 
                          "Ingeniería Biomédica", 
                          "Ingeniería Civil", 
                          "Ingeniería en Computación",
                          "Ingeniería en Computación y Telecomunicaciones",
                          "Ingeniería Eléctrica",
                          "Ingeniería Electrónica",
                          "Ingeniería en Energía",
                          "Ingeniería Física",
                          "Ingeniería Hidrológica",
                          "Ingeniería Industrial",
                          "Ingeniería Mecánica",
                          "Ingeniería Metalúrgica",
                          "Ingeniería Química",
                          "Ingeniería en Recursos Hídricos",
                          "Ingeniería en Sistemas Mecatrónicos Industriales",
                          "Matemáticas",
                          "Química"
                        ],
                    CBS: ["Agronomía",
                          "Biología",
                          "Biología Ambiental",
                          "Biología Experimental",
                          "Ciencia y Tecnología de Alimentos",
                          "Enfermería",
                          "Estomatología",
                          "Hidrobiologí",
                          "Ingeniería de los Alimentos",
                          "Ingeniería Bioquímica Industrial",
                          "Medicina",
                          "Medicina Veterinaria y Zootecnia",
                          "Nutrición Humana",
                          "Producción Animal",
                          "Psicología Biomédica",
                          "Química Farmacéutica Biológica"],
                    CCD: ["Ciencias de la Comunicación", "Diseño", "Tecnologías y Sistemas de Información"],
                    CNI: ["Biología Molecular", "Ingeniería Biológica", "Ingeniería en Computación","Matemáticas Aplicadas"],
                    CSH: ["Administración",
                          "Antropología Social",
                          "Arte y Comunicación Digitales",
                          "Ciencia Política",
                          "Comunicación Social",
                          "Derecho",
                          "Economía",
                          "Educación y Tecnologías Digitales",
                          "Estudios Socioterritoriales",
                          "Filosofía",
                          "Geografía Humana",
                          "Historia",
                          "Humanidades",
                          "Letras Hispánicas",
                          "Lingüística",
                          "Política y Gestión Social",
                          "Políticas Públicas",
                          "Psicología",
                          "Psicología Social",
                          "Sociología"]
                }
                var division = document.getElementById('division');
                var planEstudio = document.getElementById('planEstudio');
            
                var divisionSeleccionada = division.value;
                   if (divisionSeleccionada == "Ciencias y Artes para el Diseño"){
                       divisionSeleccionada = "CAD";
                   } else if (divisionSeleccionada == "Ciencias Básicas e Ingeniería") {
                       divisionSeleccionada = "CBI";
                   } else if (divisionSeleccionada == "Ciencias Biológicas y de la Salud") {
                       divisionSeleccionada = "CBS";
                   } else if (divisionSeleccionada == "Ciencias de la Comunicación y Diseño") {
                       divisionSeleccionada = "CCD";
                   } else if (divisionSeleccionada == "Ciencias Naturales e Ingeniería") {
                       divisionSeleccionada = "CNI";
                   } else if (divisionSeleccionada == "Ciencias Sociales y Humanidades") {
                       divisionSeleccionada = "CSH";
                   }

                planEstudio.innerHTML = '<option value="">Seleccione un plan de estudio...</option>'

                if (divisionSeleccionada !== '') {
                    divisionSeleccionada = listaPlanEstudio[divisionSeleccionada]
                    
                    if (!!divisionSeleccionada.length) divisionSeleccionada.sort();
                    divisionSeleccionada.forEach(function (div) {
                        let opcion = document.createElement('option')
                        opcion.value = div
                        opcion.text = div
                        planEstudio.add(opcion)
                    });
                }
            }
            // -- SELECT -- //
        </script>
    </body>
</html>


